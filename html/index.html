<!doctype html>
<html>
    <head>
	<meta charset="utf-8">
	<title>PHP</title>
    </head>
    <body>
	<h1>Введение в работу с куками в PHP</h1>
	
	<p>https://code.mu/ru/php/book/prime/seance/cookie/intro/</p>
	
	<p>Существует способ сохранения данных прямо в браузере пользователя. Это делается с помощью кук (cookie). Куки - это небольшие кусочки строк, которые хранятся в специальном месте в браузере. Каждая кука имеет свое имя, по которому эту куку можно записать и прочитать.</p>
	
	<p>Давайте посмотрим, как это делается. Для начала сделаем два PHP файла. В первом файле мы запишем куку, а во втором - прочитаем ее.</p>

	<p>Запись кук делается с помощью функции setcookie, которая первым параметром принимает имя этой куки, а вторым - значение. При этом запись кук нужно делать до любого вывода на экран (подобно сессиям).</p>

	<p>Итак, давайте в файле запишем куку с именем test и значением 'abcde':</p>
	
	<p><code>
	&#8249;?php<br>
        setcookie('test', 'abcde');<br>
	?&#8250;<br>
	</code></p>
	<p>Давайте теперь во втором файле прочитаем нашу куку. Это делается с помощью массива $_COOKIE:</p>
	<p><code>
	&#8249;?php</br>
	echo $_COOKIE['test']; // выведет 'abcde'</br>
	?&#8250;</br>
	</code></p>
	
	<br>
	<br>
	
	<h1>Запись и чтение кук на одной странице в PHP</h1>
	
	<p>Давайте теперь рассмотрим, как технически работает получение и установка кук.</p>

	<p>Пусть некто заходит на сайт, переходя по ссылке или просто вбивая адрес в адресную строку. В этом случае браузер отправляет на сервер все куки данного сайта. И в PHP скрипте эти куки становятся доступны в массиве $_COOKIE.</p>

	<p>Затем на сайте выполняется PHP скрипт, который может вызывать функции setcookie, устанавливая куки. При этом вновь установленные куки появятся в $_COOKIE только при следующем заходе пользователя на сайт.</p>

	<p><code>
	&#8249;?php<br>
	    if (!isset($_COOKIE['str'])) { // если куки нет <br>
		setcookie('str', 'eee');<br>
		$_COOKIE['str'] = 'eee';<br>
	    }<br>
	    <br>
	    echo $_COOKIE['str']; // выведет 'eee'<br>
	?&#8250;<br>
	</code></p>

	
    </body>
</html>




